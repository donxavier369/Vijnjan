import{r as o,j as e,n as v,B as m}from"./index-BDOFKY0g.js";import{b as j}from"./backgroundgif-CQce0_h5.js";import{u as w}from"./index.esm-Bne98N_B.js";const k=()=>{const{register:i,handleSubmit:d,formState:{errors:t}}=w(),[l,g]=o.useState(""),[n,u]=o.useState(""),[r,f]=o.useState(!1),[c,p]=o.useState(""),x=()=>{f(!r)},h=async()=>{try{const a={email:l,password:n},s=await v(a);if(s.success===!0){m.success(`${s.message}`),console.log(s),console.log("ffffffffffffffffffff");const b=new Date().getTime()+6*24*60*60*1e3;localStorage.setItem("tokenExpiry-admin",b),localStorage.setItem("token-admin-access-vini",s.access),localStorage.setItem("token-admin-refresh-vini",s.refresh),window.location.href="/admin"}else m.error(`${s.message}`),console.log(s,"tttttttttt"),p(s.message),console.log(s,"tttttttttt");console.log(a,"formsubmit")}catch(a){console.log(a)}};return e.jsx("div",{children:e.jsx("div",{id:"login",className:"master",style:{backgroundImage:`url(${j})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh",display:"block",justifyContent:"center",alignItems:"center",overflowY:"scroll"},children:e.jsx("div",{className:"container",children:e.jsx("div",{id:"login-row",className:"row justify-content-center align-items-center",children:e.jsx("div",{id:"login-column",className:"col-md-6",children:e.jsx("div",{id:"login-box",className:"col-md-12",children:e.jsxs("form",{onSubmit:d(h),children:[e.jsx("h3",{className:"text-center text-inf",children:"Admin Login"}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"email",className:"text-inf",children:"Email:"}),e.jsx("br",{}),e.jsx("input",{type:"text",placeholder:"abcd@gmail.com",className:`form-control ${t.email?"is-invalid":""}`,...i("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email address"}}),value:l,onChange:a=>g(a.target.value)}),t.email&&e.jsx("div",{className:"invalid-feedback",children:t.email.message})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",className:"text-inf",children:"Password:"}),e.jsx("br",{}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:r?"text":"password",placeholder:"password",className:`form-control ${t.password?"is-invalid":""}`,...i("password",{required:"Password is required",minLength:{value:5,message:"Password must be at least 5 characters long"},pattern:{value:/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,message:"Password must contain at least one number, one lowercase and one uppercase letter"}}),value:n,onChange:a=>u(a.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-light mx-1",type:"button",style:{border:"1px solid #000"},onClick:x,children:e.jsx("i",{id:"passwordIcon",className:r?"fas fa-eye":"fas fa-eye-slash"})})}),t.password&&e.jsx("div",{className:"invalid-feedback",children:t.password.message})]})]}),e.jsx("p",{className:"text-danger text-inf mb-4 mt-4",children:c||""}),e.jsx("div",{className:"form-group mb-3 mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})})})})})})};export{k as default};
