import{r as o,j as e,L as d,e as v,B as m}from"./index-BDOFKY0g.js";/* empty css              */import{b as j}from"./backgroundgif-CQce0_h5.js";import{u as w}from"./index.esm-Bne98N_B.js";function P(){const{register:i,handleSubmit:f,formState:{errors:a}}=w(),[l,g]=o.useState(""),[n,u]=o.useState(""),[r,p]=o.useState(!1),[N,x]=o.useState(""),h=()=>{p(!r)},b=async()=>{try{const t={email:l,password:n},s=await v(t);if(s.success===!0){console.log(s),console.log("ffffffffffffffffffff"),m.success(`${s.message}`);const c=new Date().getTime()+6*24*60*60*1e3;s.data[0].person==="tutor"?(window.location.href="/tutor",localStorage.setItem("token-access-vini",s.access),localStorage.setItem("token-refresh-vini",s.refresh),localStorage.setItem("tokenExpiry-tutor",c),localStorage.setItem("tutor-data-vini",JSON.stringify(s.data))):s.data[0].person==="student"&&(localStorage.setItem("student-data-vini",JSON.stringify(s.data)),localStorage.setItem("student-access-vini",s.access),localStorage.setItem("student-refresh-vini",s.refresh),localStorage.setItem("tokenExpiry-student",c),window.location.href="/")}else console.log(s,"tttttttttt"),x(s.message),m.error(`${s.message}`),console.log(s,"tttttttttt");console.log(t,"formsubmit")}catch(t){console.log(t)}};return e.jsx("div",{children:e.jsx("div",{id:"login",className:"master",style:{backgroundImage:`url(${j})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh",display:"block",justifyContent:"center",alignItems:"center",overflowY:"scroll"},children:e.jsx("div",{className:"container",children:e.jsx("div",{id:"login-row",className:"row justify-content-center align-items-center",children:e.jsx("div",{id:"login-column",className:"col-md-6",children:e.jsx("div",{id:"login-box",className:"col-md-12",children:e.jsxs("form",{onSubmit:f(b),children:[e.jsx("h3",{className:"text-center text-inf",children:"Login"}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"email",className:"text-inf",children:"Email:"}),e.jsx("br",{}),e.jsx("input",{type:"text",placeholder:"abcd@gmail.com",className:`form-control ${a.email?"is-invalid":""}`,...i("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email address"}}),value:l,onChange:t=>g(t.target.value)}),a.email&&e.jsx("div",{className:"invalid-feedback",children:a.email.message})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",className:"text-inf",children:"Password:"}),e.jsx("br",{}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:r?"text":"password",placeholder:"password",className:`form-control ${a.password?"is-invalid":""}`,...i("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters long"},pattern:{value:/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,message:"Password must contain at least one number, one lowercase and one uppercase letter"}}),value:n,onChange:t=>u(t.target.value)}),e.jsx("div",{className:"input-group-append",children:e.jsx("button",{className:"btn btn-light mx-1",type:"button",style:{border:"1px solid #000"},onClick:h,children:e.jsx("i",{id:"passwordIcon",className:r?"fas fa-eye":"fas fa-eye-slash"})})}),a.password&&e.jsx("div",{className:"invalid-feedback",children:a.password.message})]})]}),e.jsxs("div",{className:"form-group-horizontal",children:[e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",className:"text-inf"}),e.jsx("br",{}),e.jsx(d,{to:"/forgot-password",style:{color:"#fff"},children:"Forgot Password"})]}),e.jsx("div",{className:"form-group mb-3 mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary ",children:"Login"})})]}),e.jsxs("div",{className:"form-group mb-3",children:[e.jsx("label",{htmlFor:"password",className:"text-inf"}),e.jsx("br",{}),e.jsx(d,{to:"/register",style:{color:"#fff"},children:"if you don't have an account please Register !!!"})]})]})})})})})})})}export{P as default};
