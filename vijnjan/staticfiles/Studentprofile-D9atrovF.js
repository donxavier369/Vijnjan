import{r as t,j as s,L as N,h as I,B as i,d as M}from"./index-BDOFKY0g.js";import{P as L,a as P}from"./ProfileEdit-B00PBryf.js";import"./index.esm-Bne98N_B.js";const R=""+new URL("fg-4-BDTK2Euq.jpg",import.meta.url).href;function D(){var h,u,j,b,p,f,g;const[a,v]=t.useState([]),[o,n]=t.useState(!1),[c,m]=t.useState(!1),[w,y]=t.useState(!0),[k,r]=t.useState(!1),S="student-refresh-vini",C=()=>{n(!0)},_=()=>{m(!0)},x=async()=>{try{const e=localStorage.getItem("student-data-vini"),l=JSON.parse(e),d=await I(l[0].id);d.success===!0?(console.log(d,"suuccess"),y(!1),v(d.student_profile)):console.log("error")}catch(e){i.error(`${e}`)}};t.useEffect(()=>{x()},[c]);const E=async()=>{try{const e={refresh:localStorage.getItem("student-refresh-vini")},l=await M(e);l.success?(localStorage.removeItem("student-refresh-vini"),localStorage.removeItem("student-access-vini"),localStorage.removeItem("student-data-vini"),i.success(`${l.message}`),window.location.href="/login"):i.success(`${l.message}`)}catch(e){console.log(e)}};return s.jsxs("div",{children:[s.jsx("header",{className:"main-header",children:s.jsx("nav",{className:"main-menu",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"main-menu__logo mb-4",children:s.jsx(N,{to:"/",children:s.jsx("i",{className:"icon-arrow-left"})})}),s.jsx("div",{className:"main-menu__nav"}),s.jsx("div",{className:"main-menu__right"})]})})}),w?s.jsx("div",{class:"loader-container",children:s.jsx("div",{class:"loader"})}):s.jsx("div",{className:"mainbody mt-5",children:s.jsx("div",{className:"page-content page-container",id:"page-content",children:s.jsx("div",{className:"padding",children:s.jsx("div",{className:"row container d-flex justify-content-center",children:s.jsxs("div",{className:"col-xl-12 col-md-12",children:[s.jsx("div",{className:"card user-card-full",children:s.jsxs("div",{className:"row m-l-0 m-r-0",children:[s.jsx("div",{className:"col-12 col-md-12 col-sm-12 bg-c-lite-green user-profile",children:s.jsxs("div",{className:"card-block text-center text-white",children:[s.jsx("div",{className:"m-b-1",children:s.jsx("img",{src:a[0].profile_image?a[0].profile_image:R,className:"img-radius",alt:"User-Profile-Image",style:{width:130,borderRadius:"50%",height:130}})}),s.jsx("a",{style:{cursor:"pointer"},children:s.jsx(N,{onClick:_,children:"Edit"})}),s.jsx("p",{className:"mt-3",style:{fontWeight:"900",fontSize:"25px"},children:(h=a[0])==null?void 0:h.username}),s.jsx("h6",{className:"f-w-600",children:(u=a[0])==null?void 0:u.person}),s.jsx("i",{className:"mdi mdi-square-edit-outline feather icon-edit m-t-10 f-16"})]})}),s.jsx("div",{className:"col-12 col-md-12 col-sm-12",children:s.jsxs("div",{className:"card-block",children:[s.jsxs("div",{className:"d-flex justify-content-end mt-3 mt-md-5",children:[s.jsx("button",{className:"btn btn-success",style:{borderRadius:"25px"},onClick:C,children:"Change password"}),s.jsx("button",{className:"btn btn-danger ms-4",style:{borderRadius:"25px"},onClick:()=>r(!0),children:"Logout"})]}),s.jsx("h6",{className:"m-b-20 p-b-5 b-b-default f-w-600 mt-3 mt-md-5",children:"Contact"}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-sm-6",children:[s.jsx("p",{className:"m-b-10 f-w-600",children:"Email"}),s.jsx("h6",{className:"text-muted f-w-400",children:(j=a[0])==null?void 0:j.email})]}),s.jsxs("div",{className:"col-sm-6",children:[s.jsx("p",{className:"m-b-10 f-w-600",children:"User Id"}),s.jsx("h6",{className:"text-muted f-w-400",children:(b=a[0])==null?void 0:b.id})]})]}),s.jsx("h6",{className:"m-b-20 m-t-40 p-b-5 b-b-default f-w-600",children:"Informations"}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-sm-6",children:[s.jsx("p",{className:"m-b-10 f-w-600",children:"Gender"}),s.jsx("h6",{className:"text-muted f-w-400",children:(p=a[0])==null?void 0:p.username})]}),s.jsxs("div",{className:"col-sm-6",children:[s.jsx("p",{className:"m-b-10 f-w-600",children:"Date Of Birth"}),s.jsx("h6",{className:"text-muted f-w-400",children:(f=a[0])==null?void 0:f.date_of_birth})]})]})]})})]})}),s.jsx("div",{className:"cards-container",children:(g=a.courses)==null?void 0:g.map((e,l)=>s.jsxs("div",{className:"card",style:{width:"18rem"},children:[s.jsx("img",{className:"card-img-top",src:e.thumbnail,alt:"Card image cap"}),s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:e.name}),s.jsx("p",{className:"card-text",children:e.description.split(" ").slice(0,20).join(" ")})]})]},l))})]})})})})}),k&&s.jsx("div",{className:"modal bg",tabIndex:"-1",role:"dialog",style:{display:"block",background:"rgba(102, 54, 255, 0.12)",borderRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(15.8px)",WebkitBackdropFilter:"blur(5.8px)",border:"1px solid rgba(255, 255, 255, 0.26)"},children:s.jsx("div",{class:"modal-dialog",role:"document",children:s.jsx("div",{class:"modal-content",style:{display:"block",background:"rgba(102, 54, 255, 0.12)",borderRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5.8px)",WebkitBackdropFilter:"blur(5.8px)",border:"1px solid rgba(255, 255, 255, 0.26)"},children:s.jsxs("div",{className:"modal-body",children:[s.jsx("button",{"aria-label":"Close",className:"btn-close",onClick:()=>r(!1),type:"button"}),s.jsxs("div",{class:"modal-body",children:[s.jsx("p",{className:"text-white",children:"Are you sure, you want to Logout?"}),s.jsxs("div",{className:"d-flex justify-content-between mt-5",children:[s.jsx("button",{type:"button",class:"btn btn-secondary",onClick:()=>r(!1),children:"No"}),s.jsx("a",{onClick:E,class:"btn btn-danger",type:"button",children:"Logout"})]})]})]})})})}),o&&s.jsx(L,{Modal:o,setModal:n}),c&&s.jsx(P,{Modal:c,setModal:m,handle:x,users:S})]})}export{D as default};
